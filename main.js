(()=>{"use strict";let t=[];class e{constructor(t){this.name=t,this.todos=[]}addTodo(t){this.todos.push(t)}deleteTodo(t){this.todos.splice(t,1)}editName(t){this.name=t}}class o{constructor(t,e,o,n){this.title=t,this.description=e,this.dueDate=o,this.priority=n}}function n(){const e=document.getElementById("project-list");e.innerHTML="",t.forEach(((t,o)=>{const n=document.createElement("div");n.classList.add("project-card"),n.innerHTML=`\n            <span>${t.name}</span>\n            <div>\n            <button onclick="openTodoDialog(${o})">Add Todo</button>\n            <button class="delete" onclick="deleteProject(${o})">Delete</button>\n            <button class="edit" onclick="editProject(${o})">Edit</button>\n            <div id="todo-list-${o}" class="todo-list"></div>\n            </div>\n        `,e.appendChild(n),c(o)}))}function d(){document.getElementById("todo-dialog").style.display="none",document.getElementById("todo-title").value="",document.getElementById("todo-description").value="",document.getElementById("todo-due-date").value="",document.getElementById("todo-priority").value="low"}function c(e){const o=document.getElementById(`todo-list-${e}`);o.innerHTML="",t[e].todos.forEach(((t,n)=>{const d=document.createElement("div");d.innerHTML=`\n            <span>${t.title} (${t.dueDate})</span>\n            <button onclick="deleteTodo(${e}, ${n})">Delete</button>\n        `,o.appendChild(d)}))}function i(){localStorage.setItem("projectList",JSON.stringify(t))}document.getElementById("add-project").addEventListener("click",(()=>{console.log("Added project");const o=document.getElementById("new-project").value;if(o){const d=new e(o);t.push(d),i(),n(),document.getElementById("new-project").value=""}})),document.getElementById("close-dialog").onclick=d,window.openTodoDialog=function(e){document.getElementById("todo-dialog").style.display="block",document.getElementById("submit-todo").onclick=()=>{!function(e){const n=document.getElementById("todo-title").value,l=document.getElementById("todo-description").value,s=document.getElementById("todo-due-date").value,a=document.getElementById("todo-priority").value;if(n&&l&&s){const u=new o(n,l,s,a);t[e].addTodo(u),i(),c(e),d()}}(e)}},window.deleteProject=function(e){t.splice(e,1),i(),n()},window.deleteTodo=function(e,o){t[e].deleteTodo(o),i(),c(e)},window.editProject=function(e){const o=prompt("Edit project name:",t[e].name);o&&(t[e].editName(o),i(),n())},function(){const d=JSON.parse(localStorage.getItem("projectList"));d&&(t=d.map((t=>{const n=new e(t.name);return t.todos.forEach((t=>{const e=new o(t.title,t.description,t.dueDate,t.priority);n.addTodo(e)})),n})),n())}()})();